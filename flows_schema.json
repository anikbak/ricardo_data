{"fields": [
    {
      "name": "source",
      "type": "string",
      "description": "The source document this trade flow was extracted from",
      "constraints": {
        "required":true
      }
    },
    {
      "name": "flow",
      "type": "number",
      "decimalChar": ".",
      "constraints":{
        "minimum": 0
      },
      "description": "value of the trade flow"
    },
    {
      "name": "unit",
      "type": "integer",
      "constraints":{
        "minimum": 1
      },
      "description": "The unit the trade flow value is expressed in"
    },
    {
      "name": "currency",
      "type": "string",
      "description": "The currency the trade flow value is expressed in"
    },
    {
      "name": "year",
      "type": "year",
      "description": "The year of the trade flow ",
      "constraints": {
        "required":true
      }
    },
    {
      "name": "reporting",
      "type": "string",
      "description": "Name of the country reporting the trade flow",
      "constraints": {
        "required":true
      }
    },
    {
      "name": "partner",
      "type": "string",
      "description": "Name of the trade partner of the trade flow",
      "constraints": {
        "required":true
      }
    },
    {
      "name": "export_import",
      "type": "string",
      "description": "Precise wether this trade flow is an importation or exportation."
    },
    {
      "name": "special_general",
      "type": "string",
      "description": "Precise wether this trade flow is of type special or general."
    },
    {
      "name": "species_bullions",
      "type": "string",
      "description": "Precise wether this trade flow is a monatory flow."
    },
    {
      "name": "transport_type",
      "type": "string",
      "description": "For some flows, the transport type is precised : by land or by see for instance.",
      "constraints":{
        "enum":["Fleuve","Mer","Terre","Terre et Fleuves","Terre et Mer","Terre et Mer et Fleuves"]
      }
    },
    {
      "name": "statistical_period",
      "type": "string",
      "description": "Some statistics are not reported by civil years. This field indicates those precising the statistical period (not normalized)."
    },
    {
      "name": "partner_sum",
      "type": "string",
      "description": "When '1', indicates trade flows which are subtotals calculated in the source (this field should be a boolean...).",
      "constraints":{
        "enum":["1"]
      }
    },
    {
      "name": "world_trade_type",
      "type": "string",
      "description": "Categorize the different types of Total trade calculations: total_estimated (recent estimations), total_reporting1 (total reported by the soruce), total_reporting2 (subtotals reported by the source)",
      "constraints":{
        "enum":["total_estimated","total_reporting","total_subreporting"]
      }
    },
     {
      "name": "notes",
      "type": "string",
      "description": "Free text notes left by the research team"
    }
 ],
 "foreignKeys": [
    {
      "fields": "source",
      "reference": {"resource": "sources", "fields": "slug"}
    },
    {
      "fields": "reporting",
      "reference": {"resource": "entity_names", "fields": "original_name"}
    },
    {
      "fields": "partner",
      "reference": {"resource": "entity_names", "fields": "original_name"}
    },
    {
      "fields": ["currency", "year", "reporting"],
      "reference": {"resource": "currencies", "fields": ["currency", "year", "reporting"]}
    },
    {
      "fields": ["export_import", "special_general"],
      "reference": {"resource": "expimp_spegen", "fields": ["export_import", "special_general"]}
    }
  ]
}